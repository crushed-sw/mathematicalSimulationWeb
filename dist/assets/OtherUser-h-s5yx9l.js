import{a as P,X as N,Y as L,k as n,w as b,l as y,W as u,o as d,c as h,y as e,g as i,f,u as l,F as C,j as B,$ as O,M as R,t as r,e as j}from"./index-n6R6eWql.js";import{s as x}from"./fieldset.esm-eP25ExgE.js";import{s as F}from"./paginator.esm-0yz6-6Rm.js";import{s as J}from"./divider.esm-smgkWcED.js";const M={class:"w-full h-full overflow-y-scroll surface-50 flex justify-content-center"},S={style:{width:"75%"},class:"bg-white"},V={class:"flex align-items-center"},A={class:"flex flex-column ml-3"},I=e("span",null,"昵称",-1),T={class:"flex align-items-center px-2"},U={class:"font-bold"},z={class:"flex flex-column"},D={class:"m-0"},E={class:"flex justify-content-between align-items-end"},W={class:"text-400 text-sm"},Q=P({__name:"OtherUser",setup(X){const k=N(),w=L(),o=n(-1),_=n(""),p=n(""),g=n(0),c=n(0),m=n([]);function $(t){w.push({path:`/article/${t}`})}function v(){u.get(`/api/get_other_article?userid=${o.value}&page=${c.value}`).then(function(t){if(t.data.success){const a=JSON.parse(t.data.data);m.value=a.records}})}return b(()=>c,()=>{v()}),y(()=>{o.value=Number(k.params.userId),u.get(`/api/get_inform?id=${o.value}`).then(function(t){if(t.data.success){const a=JSON.parse(t.data.data);_.value=a.username,p.value=a.avatar}}),u.get(`/api/get_num_other_article?userid=${o.value}&page=-1`).then(function(t){t.data.success&&(g.value=Math.ceil(Number(t.data.data)/10))}),v()}),(t,a)=>(d(),h("div",M,[e("div",S,[i(l(x),{class:"m-4",legend:"个人信息"},{default:f(()=>[e("div",V,[i(l(O),{image:p.value,size:"large",shape:"circle"},null,8,["image"]),e("div",A,[e("div",null,[I,R("："),e("span",null,r(_.value),1)])])])]),_:1}),i(l(J)),(d(!0),h(C,null,B(m.value,s=>(d(),j(l(x),{class:"prevent-select mx-4 mb-3",legend:s.title,onClick:Y=>$(s.id)},{legend:f(()=>[e("div",T,[e("span",U,r(s.title),1)])]),default:f(()=>[e("div",z,[e("p",D,r(s.content),1),e("div",E,[e("p",W,r(s.time),1)])])]),_:2},1032,["legend","onClick"]))),256)),i(l(F),{first:c.value,"onUpdate:first":a[0]||(a[0]=s=>c.value=s),rows:1,totalRecords:g.value,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink JumpToPageInput"},null,8,["first","totalRecords"])])]))}});export{Q as default};
