import{s as K,a as ne}from"./tabpanel.esm-JyXj12zM.js";import{d as oe,r as ae,a as O,k as p,A as T,l as D,w as G,o as x,c as g,g as q,f as F,u as M,y as w,F as R,j as L,t as E,K as j,W as se,_ as le}from"./index-n6R6eWql.js";import{S as U,P as H,W as J,O as Q,D as P,A as X,B as Y,V as Z,C as ee,d as I,a as k,M as te,b as ce,c as ie,e as re}from"./OrbitControls-_KwZQ4Pf.js";const W=oe("electronCloudStore",()=>({config:ae({surface:"",points:"",index:0,n:0,l:0,m:0})})),de={class:"flex flex-column gap-2"},ue={class:"select-item"},he=["value"],me={class:"select-item"},ve=["value","selected"],fe={class:"select-item"},pe=["value","selected"],xe={class:"flex flex-column gap-2"},ge={class:"select-item"},_e=["value"],we={class:"select-item"},ye=["value","selected"],be={class:"select-item"},ze=["value","selected"],Ce={class:"flex flex-column gap-2"},Ve={class:"select-item"},Ne=["value","selected"],Me=O({__name:"Select",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(b){const o=W(),l=p(),$=p(),z=p(),u=p(),m=p(),_=p(),y=p(0),V=p(),d=p([{name:"1",code:1},{name:"2",code:2},{name:"3",code:3},{name:"4",code:4},{name:"5",code:5},{name:"6",code:6}]),s=p(),f=p([{name:"0[s]",code:0},{name:"1[p]",code:1},{name:"2[d]",code:2},{name:"3[f]",code:3},{name:"4[g]",code:4},{name:"5[h]",code:5}]),r=T(()=>V.value?f.value.slice(0,V.value.code):[]),h=p(),v=p([[{name:"0",code:0}],[{name:"-1[y]",code:-1},{name:"0[z]",code:0},{name:"1[x]",code:1}],[{name:"-2[xy]",code:-2},{name:"-1[yz]",code:-1},{name:"0[z²]",code:0},{name:"1[xz]",code:1},{name:"2[x²-y²]",code:2}],[{name:"-3[y(3x²−y²)]",code:-3},{name:"-2[xyz]",code:-2},{name:"-1[yz²]",code:-1},{name:"0[z³]",code:0},{name:"1[xz²]",code:1},{name:"2[z(x²−y²)]",code:2},{name:"3[x(x²−3y²)]",code:3}],[{name:"-4[xy(x²−y²)]",code:-4},{name:"-3[y³z]",code:-3},{name:"-2[xyz²]",code:-2},{name:"-1[yz³]",code:-1},{name:"0[z⁴]",code:0},{name:"1[xz³]",code:1},{name:"2[z²(x²−y²)]",code:2},{name:"3[x³z]",code:3},{name:"4[x⁴+y⁴]",code:4}],[{name:"-5[x⁴y]",code:-5},{name:"-4[z(4x³y−4xy³)]",code:-4},{name:"-3[y³z²]",code:-3},{name:"-2[xyz³]",code:-2},{name:"-1[yz⁴]",code:-1},{name:"0[z⁵]",code:0},{name:"1[xz⁴]",code:1},{name:"2[z³(x²−y²)]",code:2},{name:"3[x³z²]",code:3},{name:"4[z(x⁴-6x²y²+y⁴)]",code:4},{name:"5[xy⁴]",code:5}]]),i=T(()=>s.value?v.value[s.value.code]:[]),e=p(),c=p([{name:"sp",code:1,req:"sp"},{name:"sp²",code:2,req:"sp2"},{name:"sp³",code:3,req:"sp3"},{name:"sp³d (axial)",code:4,req:"sp3da"},{name:"sp³d (equatorial)",code:5,req:"sp3de"},{name:"sp³d²",codde:6,req:"sp3d2"}]);function A(C){const N=C.target.selectedIndex;V.value=d.value[N],s.value=f.value[0];let t=v.value[s.value.code];h.value=t[Math.floor(t.length/2)]}function n(C){const N=C.target.selectedIndex;s.value=r.value[N];let t=v.value[s.value.code];h.value=t[Math.floor(t.length/2)]}function S(C){const N=C.target.selectedIndex;h.value=i.value[N]}function a(C){const N=C.target.selectedIndex;e.value=c.value[N]}function B(){let C="";y.value===0?C=`/api/atom?n=${V.value.code}&l=${s.value.code}&m=${h.value.code}&atom_type=real`:y.value===1?C=`/api/atom?n=${V.value.code}&l=${s.value.code}&m=${h.value.code}&atom_type=complex`:y.value===2&&(C=`/api/orbit?name=${e.value.req}`),se.get(C).then(function(N){const t=JSON.parse(N.data.data);o.config.surface=t.surface,o.config.points=t.points})}return D(()=>{V.value=d.value[0],s.value=f.value[0],h.value=v.value[0][0],e.value=c.value[0]}),G([()=>V.value,()=>s.value,()=>h.value],()=>{o.config.n=V.value.code,o.config.l=s.value.code,o.config.m=h.value.code,B()}),G(()=>y.value,()=>{o.config.index=y.value,y.value===0?(l.value.selectedIndex=u.value.selectedIndex,$.value.selectedIndex=m.value.selectedIndex,z.value.selectedIndex=_.value.selectedIndex):y.value===1&&(u.value.selectedIndex=l.value.selectedIndex,m.value.selectedIndex=$.value.selectedIndex,_.value.selectedIndex=z.value.selectedIndex),B()}),G(()=>e.value,()=>{B()}),(C,N)=>(x(),g("div",{style:j({width:`${b.width}px`,height:`${b.height}px`})},[q(M(ne),{activeIndex:y.value,"onUpdate:activeIndex":N[0]||(N[0]=t=>y.value=t)},{default:F(()=>[q(M(K),{header:"Real"},{default:F(()=>[w("div",de,[w("div",ue,[w("select",{name:"nvalue",ref_key:"realNValue",ref:l,onChange:A},[(x(!0),g(R,null,L(d.value,t=>(x(),g("option",{value:t.code},E(t.name),9,he))),256))],544)]),w("div",me,[w("select",{name:"lvalue",ref_key:"realLValue",ref:$,onChange:n},[(x(!0),g(R,null,L(r.value,t=>(x(),g("option",{value:t.code,selected:t.code===0},E(t.name),9,ve))),256))],544)]),w("div",fe,[w("select",{name:"mvalue",ref_key:"realMValue",ref:z,onChange:S},[(x(!0),g(R,null,L(i.value,t=>(x(),g("option",{value:t.code,selected:t.code===0},E(t.name),9,pe))),256))],544)])])]),_:1}),q(M(K),{header:"Complex"},{default:F(()=>[w("div",xe,[w("div",ge,[w("select",{name:"nvalue",ref_key:"complexNValue",ref:u,onChange:A},[(x(!0),g(R,null,L(d.value,t=>(x(),g("option",{value:t.code},E(t.name),9,_e))),256))],544)]),w("div",we,[w("select",{name:"lvalue",ref_key:"complexLValue",ref:m,onChange:n},[(x(!0),g(R,null,L(r.value,t=>(x(),g("option",{value:t.code,selected:t.code===0},E(t.name),9,ye))),256))],544)]),w("div",be,[w("select",{name:"mvalue",ref_key:"complexMValue",ref:_,onChange:S},[(x(!0),g(R,null,L(i.value,t=>(x(),g("option",{value:t.code,selected:t.code===0},E(t.name),9,ze))),256))],544)])])]),_:1}),q(M(K),{header:"Hybird"},{default:F(()=>[w("div",Ce,[w("div",Ve,[w("select",{name:"spvalue",onChange:a},[(x(!0),g(R,null,L(c.value,t=>(x(),g("option",{value:t.code,selected:t.code===0},E(t.name),9,Ne))),256))],32)])])]),_:1})]),_:1},8,["activeIndex"])],4))}}),$e=le(Me,[["__scopeId","data-v-d31794c1"]]),Ie=O({__name:"Surface",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(b){const o=b,l=W(),$=p();let z;const u=new U,m=new H(75,o.width/o.height,.1,1e3),_=new J({antialias:!0}),y=new Q(m,_.domElement);y.listenToKeyEvents(window),y.enableDamping=!0,_.setSize(o.width,o.height),_.setClearColor(16777215,1),D(()=>{$.value.appendChild(_.domElement);const d=new P(16777215,3);d.position.set(1,1,1),u.add(d);const s=new P(8947848,3);s.position.set(-1,-1,-1),u.add(s);const f=new X(7829367);u.add(f),m.position.z=20;function r(){requestAnimationFrame(r),y.update(),_.render(u,m)}r()});function V(d,s){z&&u.remove(z);const f=new Y,r=[],h=[];d.forEach(a=>{r.push(new Z(a[0],a[1],a[2])),h.push(a[3])});const v=r.length,i=new Float32Array(v*3),e=new Float32Array(v*3),c=new ee;console.log(l.config.index);const A=new Uint32Array(s.flat());for(let a=0;a<v;a++){const B=r[a];i[a*3]=B.x,i[a*3+1]=B.y,i[a*3+2]=B.z,l.config.index===0||l.config.index===2?h[a]>0?(c.setRGB(76/255,110/255,245/255,I),e[a*3]=c.r,e[a*3+1]=c.g,e[a*3+2]=c.b):(c.setRGB(240/255,32/255,32/255,I),e[a*3]=c.r,e[a*3+1]=c.g,e[a*3+2]=c.b):l.config.index===1&&(l.config.m===0?h[a]>0?(c.setRGB(218/255,119/255,242/255,I),e[a*3]=c.r,e[a*3+1]=c.g,e[a*3+2]=c.b):(c.setRGB(255/255,167/255,77/255,I),e[a*3]=c.r,e[a*3+1]=c.g,e[a*3+2]=c.b):(c.setRGB(Math.abs(h[a]),1-Math.abs(h[a]),1,I),e[a*3]=c.r,e[a*3+1]=c.g,e[a*3+2]=c.b))}f.setAttribute("position",new k(i,3)),f.setAttribute("color",new k(e,3)),f.setIndex(new k(A,1)),f.computeVertexNormals();const n=new te({color:11184810,vertexColors:!0,flatShading:!0,side:ce,transparent:l.config.l==0&&l.config.index===0,opacity:.4}),S=new ie(f,n);u.add(S),z=S}return G(()=>l.config.surface,()=>{let d=[],s=[],f=l.config.surface.split(`
`);d.push([0,0,0]);let r=0;f.forEach(h=>{if(h[0]=="v"){let v=h.split(" "),i=Number(v[1]),e=Number(v[2]),c=Number(v[3]),A=Number(v[4]);!isFinite(i)||!isFinite(e)||!isFinite(c)?d.push([0,0,0,1]):(d.push([i,e,c,A]),r=Math.max(Math.max(r,i),Math.max(e,c)))}else if(h[0]=="f"){let v=h.split(" ");s.push([Number(v[1]),Number(v[2]),Number(v[3])])}}),m.position.z=r+10,V(d,s)}),G(()=>o,()=>{m.aspect=o.width/o.height,m.updateProjectionMatrix(),_.setSize(o.width,o.height),_.render(u,m)},{deep:!0}),(d,s)=>(x(),g("div",{style:j({width:`${b.width}px`,height:`${b.height}px`}),ref_key:"container",ref:$},null,4))}}),Ae=O({__name:"Points",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(b){const o=b,l=W(),$=p();let z;const u=new U,m=new H(75,o.width/o.height,.1,1e3),_=new J({antialias:!0}),y=new Q(m,_.domElement);y.listenToKeyEvents(window),y.enableDamping=!0,_.setSize(o.width,o.height),_.setClearColor(16777215,1),D(()=>{$.value.appendChild(_.domElement);const d=new P(16777215,3);d.position.set(1,1,1),u.add(d);const s=new P(8947848,3);s.position.set(-1,-1,-1),u.add(s);const f=new X(7829367);u.add(f),m.position.z=20;function r(){requestAnimationFrame(r),y.update(),_.render(u,m)}r()});function V(d){z&&u.remove(z);const s=new Y,f=[],r=[];d.forEach(n=>{f.push(new Z(n[0],n[1],n[2])),r.push(n[3])});const h=f.length,v=new Float32Array(h*3),i=new Float32Array(h*3),e=new ee;for(let n=0;n<h;n++){const S=f[n];v[n*3]=S.x,v[n*3+1]=S.y,v[n*3+2]=S.z,l.config.index===0||l.config.index===2?r[n]>0?(e.setRGB(76/255,110/255,245/255,I),i[n*3]=e.r,i[n*3+1]=e.g,i[n*3+2]=e.b):(e.setRGB(240/255,32/255,32/255,I),i[n*3]=e.r,i[n*3+1]=e.g,i[n*3+2]=e.b):l.config.index===1&&(l.config.m===0?r[n]>0?(e.setRGB(218/255,119/255,242/255,I),i[n*3]=e.r,i[n*3+1]=e.g,i[n*3+2]=e.b):(e.setRGB(255/255,167/255,77/255,I),i[n*3]=e.r,i[n*3+1]=e.g,i[n*3+2]=e.b):(e.setRGB(Math.abs(r[n]),1-Math.abs(r[n]),1,I),i[n*3]=e.r,i[n*3+1]=e.g,i[n*3+2]=e.b))}s.setAttribute("position",new k(v,3)),s.setAttribute("color",new k(i,3));const c=new te({vertexColors:!0,transparent:l.config.l==0&&l.config.index===0}),A=new re(s,c);u.add(A),z=A}return G(()=>l.config.points,()=>{let d=[],s=l.config.points.split(`
`);console.log(s),s.forEach(f=>{let r=f.split("	");d.push([Number(r[0]),Number([r[1]]),Number(r[2]),Number(r[3])])}),console.log(d),V(d)}),G(()=>o,()=>{m.aspect=o.width/o.height,m.updateProjectionMatrix(),_.setSize(o.width,o.height),_.render(u,m)},{deep:!0}),(d,s)=>(x(),g("div",{style:j({width:`${b.width}px`,height:`${b.height}px`}),ref_key:"container",ref:$},null,4))}}),Se=O({__name:"Physic",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(b){return(o,l)=>(x(),g("div",{style:j({width:`${b.width}px`,height:`${b.height}px`})},null,4))}}),qe={class:"flex flex-column"},Be={class:"flex flex-column"},Re=O({__name:"Content",setup(b){let o=p(0),l=p(0);function $(u){for(const m of u)l.value=m.contentRect.width,o.value=m.contentRect.height}const z=p();return D(()=>{new ResizeObserver($).observe(z.value)}),(u,m)=>(x(),g("div",{ref_key:"contentContainer",ref:z,class:"h-full w-full flex"},[w("div",qe,[q(Se,{width:M(l)/2,height:M(o)/4},null,8,["width","height"]),q(Ie,{width:M(l)/2,height:M(o)/4*3},null,8,["width","height"])]),w("div",Be,[q($e,{width:M(l)/2,height:M(o)/4},null,8,["width","height"]),q(Ae,{width:M(l)/2,height:M(o)/4*3},null,8,["width","height"])])],512))}}),Le={class:"w-full h-full"},ke=O({__name:"ElectronCloud",setup(b){return(o,l)=>(x(),g("div",Le,[q(Re)]))}});export{ke as default};
