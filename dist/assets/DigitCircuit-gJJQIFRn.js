import{d as wt,r as E,a as B,A as S,b as X,o as y,e as Y,f as w,g as s,k,m as me,w as I,n as D,i as G,u as b,l as xe,c as T,j as H,F,K as ze,E as Re,_ as Me,J as ht,y as N,z as j,x as J}from"./index-n6R6eWql.js";var R=(u=>(u[u.None=0]="None",u[u.BufGate=1]="BufGate",u[u.NotGate=2]="NotGate",u[u.AndGate=3]="AndGate",u[u.AndNotGate=4]="AndNotGate",u[u.OrGate=5]="OrGate",u[u.OrNotGate=6]="OrNotGate",u[u.XnorGate=7]="XnorGate",u[u.XnorNotGate=8]="XnorNotGate",u[u.ThreeAndGate=9]="ThreeAndGate",u[u.ThreeAndNotGate=10]="ThreeAndNotGate",u[u.ThreeOrGate=11]="ThreeOrGate",u[u.ThreeOrNotGate=12]="ThreeOrNotGate",u[u.ThreeXnorGate=13]="ThreeXnorGate",u[u.ThreeXnorNotGate=14]="ThreeXnorNotGate",u[u.SwitchOne=15]="SwitchOne",u[u.SwitchTwo=16]="SwitchTwo",u[u.DigitalValue=17]="DigitalValue",u[u.DigitalClock=18]="DigitalClock",u[u.Blub=19]="Blub",u))(R||{});const z=wt("digitCircuitStore",()=>{const u=E({x:0,y:0,visible:!1,value:""}),e=E({id:-1,x:0,y:0,visible:!1}),t=E({is:!1,begin:[],beginId:-1,beginNum:-1,end:[],endId:-1,endNum:-1}),i=E({state:0,ctrl:!1,hover:-1,selected:[],drag:!1,dragToDraw:!1}),a=new Map,f=E([]),d=E([]),L=E([]),m=E([]),g=E([]),W=E([]),M=E([]),p=E([]),h=E([]),o=E([]),n=E([]),r=E([]),v=E([]),l=E([]),x=E([]),$=E([]),C=E([]),K=E([]),oe=E([]),re=E([]),ae=E([]);let te=0;function U(A,c,Q,O,V,le,ee){const ne=Q*Math.PI/180;let Le=A*Math.cos(ne)-c*Math.sin(ne),pe=A*Math.sin(ne)+c*Math.cos(ne);return Q%180===0?(Le*=O,pe*=V):(Le*=V,pe*=O),[le+Le,ee+pe]}function se(A){const c=Z(A),Q=U(-40,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y),O=U(40,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y);return[Q,O]}function ue(A){const c=Z(A),Q=U(-50,-20,c.rotate,c.scaleX,c.scaleY,c.x,c.y),O=U(-50,20,c.rotate,c.scaleX,c.scaleY,c.x,c.y),V=U(50,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y);return[Q,O,V]}function ve(A){const c=Z(A),Q=U(-50,-20,c.rotate,c.scaleX,c.scaleY,c.x,c.y),O=U(-50,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y),V=U(-50,20,c.rotate,c.scaleX,c.scaleY,c.x,c.y),le=U(50,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y);return[Q,O,V,le]}function fe(A){const c=Z(A);return[U(30,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y)]}function ce(A){const c=Z(A);return[U(-30,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y)]}function be(A){const c=Z(A),Q=U(-40,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y),O=U(40,-20,c.rotate,c.scaleX,c.scaleY,c.x,c.y),V=U(40,0,c.rotate,c.scaleX,c.scaleY,c.x,c.y);return[Q,O,V]}function de(A,c,Q){let O=0,V=0;switch(Q){case 1:case 2:case 15:case 16:O=Math.floor((A+10)/20)*20,V=Math.floor((c+10)/20)*20;break;case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 17:case 18:case 19:O=Math.floor(A/20)*20+10,V=Math.floor((c+10)/20)*20;break}return[O,V]}function we(A,c,Q){a.set(te,A);const O=de(c,Q,A),V={id:te,x:O[0],y:O[1],currX:O[0],currY:O[1],inDependence:[-1,-1,-1],outDependence:[-1,-1,-1],in:[-1,-1,-1],out:[-1,-1,-1],rotate:0,scaleX:1,scaleY:1};switch(A){case 1:L.push(V);break;case 2:m.push(V);break;case 3:g.push(V);break;case 4:W.push(V);break;case 5:M.push(V);break;case 6:p.push(V);break;case 7:h.push(V);break;case 8:o.push(V);break;case 9:n.push(V);break;case 10:r.push(V);break;case 11:v.push(V);break;case 12:l.push(V);break;case 13:x.push(V);break;case 14:$.push(V);break;case 15:C.push(V);break;case 16:K.push(V);break;case 17:V.out[0]=0,oe.push(V);break;case 18:V.out[0]=0,re.push(V);break;case 19:ae.push(V);break}te++}function he(A,c){let Q=A.findIndex(O=>O.id===c);Q>-1&&A.splice(Q,1)}function q(A){let c;switch(A){case 1:c=L;break;case 2:c=m;break;case 3:c=g;break;case 4:c=W;break;case 5:c=M;break;case 6:c=p;break;case 7:c=h;break;case 8:c=o;break;case 9:c=n;break;case 10:c=r;break;case 11:c=v;break;case 12:c=l;break;case 13:c=x;break;case 14:c=$;break;case 15:c=C;break;case 16:c=K;break;case 17:c=oe;break;case 18:c=re;break;case 19:c=ae;break}return c}function _(A){const c=a.get(A);if(c!==void 0)return q(c)}function Z(A){const c=_(A);if(c!==void 0){for(let Q=0;Q!==c.length;++Q)if(c[Q].id===A)return c[Q]}}function ie(){i.selected.forEach(A=>{const c=_(A);c!==void 0&&he(c,A)}),i.selected=[],u.visible=!1}function ge(A,c,Q,O,V,le){for(let ee=0;ee!=A.length;++ee)if(A[ee].id===c){A[ee].currX+=Q,A[ee].currY+=O;const ne=de(A[ee].currX,A[ee].currY,le);A[ee].x=ne[0],A[ee].y=ne[1],V&&(A[ee].currX=ne[0],A[ee].currY=ne[1]);break}}function ft(A,c,Q=!1){i.selected.forEach(O=>{const V=a.get(O);if(V!==void 0){const le=q(V);le!==void 0&&ge(le,O,A,c,Q,V)}})}function ct(){const A=Z(t.beginId),c=Z(t.endId);console.log(A.out,A.out[t.beginNum]),d.push({id:te,points:[...t.begin,...t.end],in:A.out[t.beginNum],inId:t.endId,outId:t.beginId,inDependence:t.endNum,outDependence:t.beginNum}),c.in[t.endNum]=A.out[t.beginNum],A.outDependence[t.beginNum]=te,c.inDependence[t.endNum]=te,te++}function bt(A){for(let c=0;c!==d.length;++c)if(d[c].id===A)return d[c]}return{annotation:u,menu:e,global:i,drawLine:t,bufGateArray:L,notGateArray:m,andGateArray:g,andNotGateArray:W,orGateArray:M,orNotGateArray:p,xnorGateArray:h,xnorNotGateArray:o,threeAndGateArray:n,threeAndNotGateArray:r,threeOrGateArray:v,threeOrNotGateArray:l,threeXnorGateArray:x,threeXnorNotGateArray:$,switchOneArray:C,switchTwoArray:K,digitValueArray:oe,digitClockArray:re,blubArray:ae,lineArray:d,boolArray:f,addElement:we,deleteElement:ie,moveElement:ft,getArrayById:_,getElementInArr:Z,getLine:bt,oneInputGateValues:se,twoInputGateValues:ue,threeInputGateValues:ve,sourceGateValues:fe,blubValues:ce,towSwitchValues:be,addLine:ct}}),gt=B({__name:"BaseBord",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(u){const e=u,t=S(()=>{let a="";for(let f=0;f<e.height;f+=20)a+=`M0,${f} L${e.width},${f} `;return a}),i=S(()=>{let a="";for(let f=0;f<e.width;f+=20)a+=`M${f},0 L${f},${e.height} `;return a});return(a,f)=>{const d=X("v-path"),L=X("v-group");return y(),Y(L,null,{default:w(()=>[s(d,{data:t.value,stroke:"rgba(0, 0, 0, 0.1)",strokeWidth:1},null,8,["data","stroke"]),s(d,{data:i.value,stroke:"rgba(0, 0, 0, 0.1)",strokeWidth:1},null,8,["data","stroke"])]),_:1})}}}),P=B({__name:"Point",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},ishover:{type:Boolean,default:!1},visible:{type:Boolean,default:!0}},setup(u){const e=u,t=k(!1),i=S(()=>t.value||e.ishover?{x:e.x,y:e.y,visible:e.visible,radius:4,fill:"rgba(134, 142, 150, 1)",stroke:"rgba(67, 76, 94, 1)",strokeWidth:2,hitStrokeWidth:7}:{x:e.x,y:e.y,visible:e.visible,radius:3,fill:"rgba(67, 76, 94, 1)",stroke:"rgba(67, 76, 94, 1)",strokeWidth:0,hitStrokeWidth:7});function a(){t.value=!0}function f(){t.value=!1}return(d,L)=>{const m=X("v-circle");return y(),Y(m,me(i.value,{onMouseenter:a,onMouseleave:f}),null,16)}}}),We="M20,0 L-15,20 L-15,-20 L20,0",Lt="M-40,0 L-15,0",pt="M20,0 L40,0",kt="M-15,-20 L20,0 L-15,20 L-15,-20",Fe=B({__name:"BufGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1),f=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:We,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:We,hitStrokeWidth:7});function d(h){e.isPreview||(i.value=!0,t.annotation.value=`in: &nbsp${e.in[0]}<br />out: ${e.in[0]}`,t.annotation.x=h.evt.layerX,t.annotation.y=h.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function L(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function m(h){e.isPreview||(t.annotation.x=h.evt.layerX,t.annotation.y=h.evt.layerY)}function g(h){h.evt.preventDefault(),t.menu.visible=!0,t.menu.x=h.evt.layerX,t.menu.y=h.evt.layerY,t.menu.id=e.id}function W(h){const o=t.getElementInArr(e.id);console.log(o),!(e.isPreview||h.evt.button!==0)&&(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function M(h,o){if(h.evt.button!==0)return;t.drawLine.is=!0;const n=t.oneInputGateValues(e.id);o==="in"?(t.drawLine.end=n[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):o==="out"?(t.drawLine.begin=n[1],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function p(h,o){if(h.evt.button!==0)return;const n=t.oneInputGateValues(e.id);o==="in"&&t.drawLine.beginId!==-1?(t.drawLine.endId=e.id,t.drawLine.end=n[0],t.drawLine.endNum=0,t.addLine()):o==="out"&&t.drawLine.endId!==-1&&(t.drawLine.beginId=e.id,t.drawLine.begin=n[1],t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const h=t.getElementInArr(e.id);h.out[0]=e.in[0];const o=t.getLine(e.outDependence[0]);o!==void 0&&(o.in=e.in[0])},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const h=t.oneInputGateValues(e.id),o=t.getLine(e.inDependence[0]),n=t.getLine(e.outDependence[0]);o!==void 0&&(o.points=[o.points[0],o.points[1],...h[0]]),n!==void 0&&(n.points=[...h[1],n.points[2],n.points[3]])},{deep:!0}),(h,o)=>{const n=X("v-path"),r=X("v-group");return y(),Y(r,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:d,onMouseleave:L,onMousemove:m,onContextmenu:g,onClick:W},{default:w(()=>[s(n,{data:kt,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(n,D(G(f.value)),null,16),s(r,{onMousedown:o[0]||(o[0]=v=>M(v,"in")),onMouseup:o[1]||(o[1]=v=>p(v,"in"))},{default:w(()=>[s(n,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:Lt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-40,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(r,{onMousedown:o[2]||(o[2]=v=>M(v,"out")),onMouseup:o[3]||(o[3]=v=>p(v,"out"))},{default:w(()=>[s(n,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:pt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:40,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ne="M20,0 L-15,20 L-15,-20 L20,0",yt="M-40,0 L-15,0",mt="M30,0 L40,0 M20,0 A5,5,0,1,0,30,0 A5,5,0,1,0,20,0",xt="M-15,-20 L20,0 L-15,20 L-15,-20",Ze=B({__name:"NotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=z(),a=k(!1),f=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ne,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Ne,hitStrokeWidth:7});function d(){return e.in[0]==-1?-1:+!e.in[0]}function L(o){e.isPreview||(t.value=!0,i.annotation.value=`in: &nbsp${e.in[0]}<br />out: ${d()}`,i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(o){e.isPreview||(i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY)}function W(o){console.log(e.inDependence,e.outDependence,e.in),!(e.isPreview||o.evt.button!==0)&&(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function M(o,n){if(o.evt.button!==0)return;i.drawLine.is=!0;const r=i.oneInputGateValues(e.id);n==="in"?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0):n==="out"?(i.drawLine.begin=r[1],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function p(o,n){if(o.evt.button!==0)return;const r=i.oneInputGateValues(e.id);n==="in"&&i.drawLine.beginId!==-1?(i.drawLine.endId=e.id,i.drawLine.end=r[0],i.drawLine.endNum=0,i.addLine()):n==="out"&&i.drawLine.endId!==-1&&(i.drawLine.beginId=e.id,i.drawLine.begin=r[1],i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}function h(o){o.evt.preventDefault(),i.menu.visible=!0,i.menu.x=o.evt.layerX,i.menu.y=o.evt.layerY,i.menu.id=e.id}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=i.getElementInArr(e.id);o.out[0]=d();const n=i.getLine(e.outDependence[0]);n!==void 0&&(n.in=d())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=i.oneInputGateValues(e.id),n=i.getLine(e.inDependence[0]),r=i.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[...o[1],r.points[2],r.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:h,onClick:W},{default:w(()=>[s(r,{data:xt,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(f.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>M(l,"in")),onMouseup:n[1]||(n[1]=l=>p(l,"in"))},{default:w(()=>[s(r,{data:yt,stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-40,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>M(l,"out")),onMouseup:n[3]||(n[3]=l=>p(l,"out"))},{default:w(()=>[s(r,{data:mt,stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:40,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ie="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",Mt="M-50,-20 L-35,-20",Wt="M-50,20 L-35,20",Nt="M30,0 L50,0",It="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",He=B({__name:"AndGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]===-1||e.in[1]==-1?-1:+(!!e.in[0]&&!!e.in[1])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ie,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Ie,hitStrokeWidth:7});function L(o){e.isPreview||(i.value=!0,t.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />out: ${f()}`,t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function m(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function g(o){e.isPreview||(t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),t.menu.visible=!0,t.menu.x=o.evt.layerX,t.menu.y=o.evt.layerY,t.menu.id=e.id}function M(o){const n=t.twoInputGateValues(e.id);console.log(n[0][0],n[0][1],`
`,n[1][0],n[1][1],`
`,n[2][0],n[2][1]),!(e.isPreview||o.evt.button!==0)&&(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;t.drawLine.is=!0;const r=t.twoInputGateValues(e.id);n==="in1"?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):n==="in2"?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1):n==="out"?(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=t.twoInputGateValues(e.id);n==="in1"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0,t.addLine()):n==="in2"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1,t.addLine()):n==="out"&&t.drawLine.endId!==-1&&(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=t.getElementInArr(e.id);o.out[0]=f();const n=t.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=t.twoInputGateValues(e.id),n=t.getLine(e.inDependence[0]),r=t.getLine(e.inDependence[1]),v=t.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[...o[2],v.points[2],v.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:It,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Mt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Wt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"out")),onMouseup:n[5]||(n[5]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Nt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ae="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",At="M-50,-20 L-35,-20",Pt="M-50,20 L-35,20",Xt="M50,0 L40,0 A5,5,0,1,0,30,0 A5,5,0,1,0,40,0",$t="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",Ke=B({__name:"AndNotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]===-1||e.in[1]==-1?-1:+!(e.in[0]&&e.in[1])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ae,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Ae,hitStrokeWidth:7});function L(o){e.isPreview||(i.value=!0,t.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />out: ${f()}`,t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function m(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function g(o){e.isPreview||(t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),t.menu.visible=!0,t.menu.x=o.evt.layerX,t.menu.y=o.evt.layerY,t.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;t.drawLine.is=!0;const r=t.twoInputGateValues(e.id);n==="in1"?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):n==="in2"?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1):n==="out"?(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=t.twoInputGateValues(e.id);n==="in1"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0,t.addLine()):n==="in2"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1,t.addLine()):n==="out"&&t.drawLine.endId!==-1&&(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=t.getElementInArr(e.id);o.out[0]=f();const n=t.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=t.twoInputGateValues(e.id),n=t.getLine(e.inDependence[0]),r=t.getLine(e.inDependence[1]),v=t.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[...o[2],v.points[2],v.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:$t,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:At},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Pt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"out")),onMouseup:n[5]||(n[5]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Xt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Pe="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-45,36.212 Q10,40,30,0 M-45,-36.212 Q10,-40,30,0",Yt="M-50,-20 L-35,-20",Vt="M-50,20 L-35,20",Dt="M30,0 L50,0",Gt="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 Q10,-40,30,0 Q10,40,-45,36.212",je=B({__name:"OrGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1),f=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Pe,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Pe,hitStrokeWidth:7});function d(){return e.in[0]==-1||e.in[1]==-1?-1:+(!!e.in[0]||!!e.in[1])}function L(o){e.isPreview||(i.value=!0,t.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />out: ${d()}`,t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function m(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function g(o){e.isPreview||(t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),t.menu.visible=!0,t.menu.x=o.evt.layerX,t.menu.y=o.evt.layerY,t.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;t.drawLine.is=!0;const r=t.twoInputGateValues(e.id);n==="in1"?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):n==="in2"?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1):n==="out"?(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=t.twoInputGateValues(e.id);n==="in1"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0,t.addLine()):n==="in2"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1,t.addLine()):n==="out"&&t.drawLine.endId!==-1&&(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=t.getElementInArr(e.id);o.out[0]=d();const n=t.getLine(e.outDependence[0]);n!==void 0&&(n.in=d())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=t.twoInputGateValues(e.id),n=t.getLine(e.inDependence[0]),r=t.getLine(e.inDependence[1]),v=t.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[...o[2],v.points[2],v.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:Gt,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(f.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:Yt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:Vt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"out")),onMouseup:n[5]||(n[5]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:Dt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Xe="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-45,36.212 Q10,40,30,0 M-45,-36.212 Q10,-40,30,0",St="M-50,-20 L-35,-20",Ct="M-50,20 L-35,20",Bt="M50,0 L40,0 A5,5,0,1,0,30,0 A5,5,0,1,0,40,0",qt="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 Q10,-40,30,0 Q10,40,-45,36.212",Je=B({__name:"OrNotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=z(),a=k(!1),f=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Xe,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Xe,hitStrokeWidth:7});function d(){return e.in[0]==-1||e.in[1]==-1?-1:+!(e.in[0]||e.in[1])}function L(o){e.isPreview||(t.value=!0,i.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />out: ${d()}`,i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(o){e.isPreview||(i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),i.menu.visible=!0,i.menu.x=o.evt.layerX,i.menu.y=o.evt.layerY,i.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;i.drawLine.is=!0;const r=i.twoInputGateValues(e.id);n==="in1"?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0):n==="in2"?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1):n==="out"?(i.drawLine.begin=r[2],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=i.twoInputGateValues(e.id);n==="in1"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0,i.addLine()):n==="in2"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1,i.addLine()):n==="out"&&i.drawLine.endId!==-1&&(i.drawLine.begin=r[2],i.drawLine.beginId=e.id,i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=i.getElementInArr(e.id);o.out[0]=d();const n=i.getLine(e.outDependence[0]);n!==void 0&&(n.in=d())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=i.twoInputGateValues(e.id),n=i.getLine(e.inDependence[0]),r=i.getLine(e.inDependence[1]),v=i.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[...o[2],v.points[2],v.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:qt,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(f.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:St},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:Ct},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"out")),onMouseup:n[5]||(n[5]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:f.value.stroke,strokeWidth:f.value.strokeWidth,hitStrokeWidth:f.value.hitStrokeWidth,data:Bt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),$e="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 M-35,36.212 Q10,40,30,0 M-35,-36.212 Q10,-40,30,0",Qt="M-50,-20 L-35,-20",Et="M-50,20 L-35,20",Tt="M30,0 L50,0",Ot="M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 Q10,-40,30,0 Q10,40,-35,36.212 Z",Ue=B({__name:"XnorGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1?-1:+(!!e.in[0]&&!e.in[1]||!e.in[0]&&!!e.in[1])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:$e,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:$e,hitStrokeWidth:7});function L(o){e.isPreview||(i.value=!0,t.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />out: ${f()}`,t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function m(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function g(o){e.isPreview||(t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),t.menu.visible=!0,t.menu.x=o.evt.layerX,t.menu.y=o.evt.layerY,t.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;t.drawLine.is=!0;const r=t.twoInputGateValues(e.id);n==="in1"?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):n==="in2"?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1):n==="out"?(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=t.twoInputGateValues(e.id);n==="in1"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0,t.addLine()):n==="in2"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1,t.addLine()):n==="out"&&t.drawLine.endId!==-1&&(t.drawLine.begin=r[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=t.getElementInArr(e.id);o.out[0]=f();const n=t.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=t.twoInputGateValues(e.id),n=t.getLine(e.inDependence[0]),r=t.getLine(e.inDependence[1]),v=t.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[...o[2],v.points[2],v.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:Ot,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Qt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Et},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"out")),onMouseup:n[5]||(n[5]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Tt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ye="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 M-50,20 L-35,20 M-50,-20 L-35,-20 M-35,36.212 Q10,40,30,0 M-35,-36.212 Q10,-40,30,0",zt="M-50,-20 L-35,-20",Rt="M-50,20 L-35,20",Ft=" M50,0 L40,0 A5,5,0,1,0,30,0 A5,5,0,1,0,40,0",Zt="M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 Q10,-40,30,0 Q10,40,-35,36.212 Z",_e=B({__name:"XnorNotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=k(!1),a=z();function f(){return e.in[0]==-1||e.in[1]==-1?-1:+(!!e.in[0]&&!!e.in[1]||!e.in[0]&&!e.in[1])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ye,hitStrokeWidth:7}:{stroke:i.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:i.value?3:2,data:Ye,hitStrokeWidth:7});function L(o){e.isPreview||(t.value=!0,a.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />out: ${f()}`,a.annotation.x=o.evt.layerX,a.annotation.y=o.evt.layerY,a.annotation.visible=!0,a.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,a.annotation.visible=!1,a.global.hover===e.id&&(a.global.hover=-1))}function g(o){e.isPreview||(a.annotation.x=o.evt.layerX,a.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),a.menu.visible=!0,a.menu.x=o.evt.layerX,a.menu.y=o.evt.layerY,a.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(a.global.ctrl?a.global.selected.push(e.id):a.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;a.drawLine.is=!0;const r=a.twoInputGateValues(e.id);n==="in1"?(a.drawLine.end=r[0],a.drawLine.endId=e.id,a.drawLine.endNum=0):n==="in2"?(a.drawLine.end=r[1],a.drawLine.endId=e.id,a.drawLine.endNum=1):n==="out"?(a.drawLine.begin=r[2],a.drawLine.beginId=e.id,a.drawLine.beginNum=0):a.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=a.twoInputGateValues(e.id);n==="in1"&&a.drawLine.beginId!==-1?(a.drawLine.end=r[0],a.drawLine.endId=e.id,a.drawLine.endNum=0,a.addLine()):n==="in2"&&a.drawLine.beginId!==-1?(a.drawLine.end=r[1],a.drawLine.endId=e.id,a.drawLine.endNum=1,a.addLine()):n==="out"&&a.drawLine.endId!==-1&&(a.drawLine.begin=r[2],a.drawLine.beginId=e.id,a.drawLine.beginNum=0,a.addLine()),a.drawLine.is=!1,a.drawLine.begin=[],a.drawLine.end=[],a.drawLine.beginId=-1,a.drawLine.endId=-1}return I(()=>a.global.selected,()=>{e.isPreview||(a.global.selected.includes(e.id)?i.value=!0:i.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=a.getElementInArr(e.id);o.out[0]=f();const n=a.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=a.twoInputGateValues(e.id),n=a.getLine(e.inDependence[0]),r=a.getLine(e.inDependence[1]),v=a.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[...o[2],v.points[2],v.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:Zt,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:zt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:t.value&&!b(a).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Rt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:t.value&&!b(a).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"out")),onMouseup:n[5]||(n[5]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Ft},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:t.value&&!b(a).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ve="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",Ht="M-50,-20 L-35,-20",Kt="M-50,0 L-35,0",jt="M-50,20 L-35,20",Jt="M50,0 L30,0",Ut="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",et=B({__name:"ThreeAndGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1||e.in[2]==-1?-1:+(!!e.in[0]&&!!e.in[1]&&!!e.in[2])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ve,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Ve,hitStrokeWidth:7});function L(o){e.isPreview||(i.value=!0,t.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />in3: ${e.in[2]}<br />out: ${f()}`,t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function m(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function g(o){e.isPreview||(t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),t.menu.visible=!0,t.menu.x=o.evt.layerX,t.menu.y=o.evt.layerY,t.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;t.drawLine.is=!0;const r=t.threeInputGateValues(e.id);n==="in1"?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):n==="in2"?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1):n==="in3"?(t.drawLine.end=r[2],t.drawLine.endId=e.id,t.drawLine.endNum=2):n==="out"?(t.drawLine.begin=r[3],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=t.threeInputGateValues(e.id);n==="in1"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0,t.addLine()):n==="in2"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1,t.addLine()):n==="in3"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[2],t.drawLine.endId=e.id,t.drawLine.endNum=2,t.addLine()):n==="out"&&t.drawLine.endId!==-1&&(t.drawLine.begin=r[3],t.drawLine.beginId=e.id,t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=t.getElementInArr(e.id);o.out[0]=f();const n=t.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=t.threeInputGateValues(e.id),n=t.getLine(e.inDependence[0]),r=t.getLine(e.inDependence[1]),v=t.getLine(e.inDependence[2]),l=t.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[v.points[0],v.points[1],...o[2]]),l!==void 0&&(l.points=[...o[3],l.points[2],l.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:Ut,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Ht},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Kt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"in3")),onMouseup:n[5]||(n[5]=l=>h(l,"in3"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:jt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[6]||(n[6]=l=>p(l,"out")),onMouseup:n[7]||(n[7]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Jt},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),De="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",_t="M-50,-20 L-35,-20",ei="M-50,0 L-35,0",ti="M-50,20 L-35,20",ii="M50,0 L40,0 A5,5,0,1,0,30,0 A5,5,0,1,0,40,0",ni="M0,-30 L-35,-30 L-35,30 L0,30 A30,30,90,1,0,-1,-30",tt=B({__name:"ThreeAndNotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=z(),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1||e.in[2]==-1?-1:+!(e.in[0]&&e.in[1]&&e.in[2])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:De,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:De,hitStrokeWidth:7});function L(o){e.isPreview||(t.value=!0,i.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />in3: ${e.in[2]}<br />out: ${f()}`,i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(o){e.isPreview||(i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),i.menu.visible=!0,i.menu.x=o.evt.layerX,i.menu.y=o.evt.layerY,i.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;i.drawLine.is=!0;const r=i.threeInputGateValues(e.id);n==="in1"?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0):n==="in2"?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1):n==="in3"?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2):n==="out"?(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=i.threeInputGateValues(e.id);n==="in1"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0,i.addLine()):n==="in2"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1,i.addLine()):n==="in3"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2,i.addLine()):n==="out"&&i.drawLine.endId!==-1&&(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=i.getElementInArr(e.id);o.out[0]=f();const n=i.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=i.threeInputGateValues(e.id),n=i.getLine(e.inDependence[0]),r=i.getLine(e.inDependence[1]),v=i.getLine(e.inDependence[2]),l=i.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[v.points[0],v.points[1],...o[2]]),l!==void 0&&(l.points=[...o[3],l.points[2],l.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:ni,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:_t},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ei},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"in3")),onMouseup:n[5]||(n[5]=l=>h(l,"in3"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ti},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[6]||(n[6]=l=>p(l,"out")),onMouseup:n[7]||(n[7]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ii},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ge="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-45,36.212 Q10,40,30,0 M-45,-36.212 Q10,-40,30,0",oi="M-50,-20 L-35,-20",ri="M-50,0 L-30,0",ai="M-50,20 L-35,20",li="M30,0 L50,0",si="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 Q10,-40,30,0 Q10,40,-45,36.212",it=B({__name:"ThreeOrGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=z(),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1||e.in[2]==-1?-1:+(!!e.in[0]||!!e.in[1]||!!e.in[2])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ge,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Ge,hitStrokeWidth:7});function L(o){e.isPreview||(t.value=!0,i.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />in3: ${e.in[2]}<br />out: ${f()}`,i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(o){e.isPreview||(i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),i.menu.visible=!0,i.menu.x=o.evt.layerX,i.menu.y=o.evt.layerY,i.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;i.drawLine.is=!0;const r=i.threeInputGateValues(e.id);n==="in1"?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0):n==="in2"?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1):n==="in3"?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2):n==="out"?(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=i.threeInputGateValues(e.id);n==="in1"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0,i.addLine()):n==="in2"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1,i.addLine()):n==="in3"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2,i.addLine()):n==="out"&&i.drawLine.endId!==-1&&(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=i.getElementInArr(e.id);o.out[0]=f();const n=i.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=i.threeInputGateValues(e.id),n=i.getLine(e.inDependence[0]),r=i.getLine(e.inDependence[1]),v=i.getLine(e.inDependence[2]),l=i.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[v.points[0],v.points[1],...o[2]]),l!==void 0&&(l.points=[...o[3],l.points[2],l.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:si,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:oi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ri},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"in3")),onMouseup:n[5]||(n[5]=l=>h(l,"in3"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ai},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[6]||(n[6]=l=>p(l,"out")),onMouseup:n[7]||(n[7]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:li},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Se="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-45,36.212 Q10,40,30,0 M-45,-36.212 Q10,-40,30,0",ui="M-50,-20 L-35,-20",di="M-50,0 L-30,0",vi="M-50,20 L-35,20",fi="M50,0 L40,0 A5,5,0,1,0,30,0 A5,5,0,1,0,40,0",ci="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 Q10,-40,30,0 Q10,40,-45,36.212",nt=B({__name:"ThreeOrNotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1||e.in[2]==-1?-1:+!(e.in[0]||e.in[1]||e.in[2])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Se,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Se,hitStrokeWidth:7});function L(o){e.isPreview||(i.value=!0,t.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />in3: ${e.in[2]}<br />out: ${f()}`,t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function m(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function g(o){e.isPreview||(t.annotation.x=o.evt.layerX,t.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),t.menu.visible=!0,t.menu.x=o.evt.layerX,t.menu.y=o.evt.layerY,t.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;t.drawLine.is=!0;const r=t.threeInputGateValues(e.id);n==="in1"?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):n==="in2"?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1):n==="in3"?(t.drawLine.end=r[2],t.drawLine.endId=e.id,t.drawLine.endNum=2):n==="out"?(t.drawLine.begin=r[3],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=t.threeInputGateValues(e.id);n==="in1"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[0],t.drawLine.endId=e.id,t.drawLine.endNum=0,t.addLine()):n==="in2"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[1],t.drawLine.endId=e.id,t.drawLine.endNum=1,t.addLine()):n==="in3"&&t.drawLine.beginId!==-1?(t.drawLine.end=r[2],t.drawLine.endId=e.id,t.drawLine.endNum=2,t.addLine()):n==="out"&&t.drawLine.endId!==-1&&(t.drawLine.begin=r[3],t.drawLine.beginId=e.id,t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=t.getElementInArr(e.id);o.out[0]=f();const n=t.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=t.threeInputGateValues(e.id),n=t.getLine(e.inDependence[0]),r=t.getLine(e.inDependence[1]),v=t.getLine(e.inDependence[2]),l=t.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[v.points[0],v.points[1],...o[2]]),l!==void 0&&(l.points=[...o[3],l.points[2],l.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:ci,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ui},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:di},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"in3")),onMouseup:n[5]||(n[5]=l=>h(l,"in3"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:vi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[6]||(n[6]=l=>p(l,"out")),onMouseup:n[7]||(n[7]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:fi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ce="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 M-35,36.212 Q10,40,30,0 M-35,-36.212 Q10,-40,30,0",bi="M-50,-20 L-35,-20",wi="M-50,0 L-30,0",hi="M-50,20 L-35,20",gi="M30,0 L50,0",Li="M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 Q10,-40,30,0 Q10,40,-35,36.212 Z",ot=B({__name:"ThreeXnorGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=z(),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1||e.in[2]==-1?-1:+(!!e.in[0]&&!e.in[1]&&!e.in[2]||!e.in[0]&&!!e.in[1]&&!e.in[2]||!e.in[0]&&!e.in[1]&&!!e.in[2]||!!e.in[0]&&!!e.in[1]&&!!e.in[2])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ce,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Ce,hitStrokeWidth:7});function L(o){e.isPreview||(t.value=!0,i.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />in3: ${e.in[2]}<br />out: ${f()}`,i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(o){e.isPreview||(i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),i.menu.visible=!0,i.menu.x=o.evt.layerX,i.menu.y=o.evt.layerY,i.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;i.drawLine.is=!0;const r=i.threeInputGateValues(e.id);n==="in1"?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0):n==="in2"?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1):n==="in3"?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2):n==="out"?(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=i.threeInputGateValues(e.id);n==="in1"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0,i.addLine()):n==="in2"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1,i.addLine()):n==="in3"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2,i.addLine()):n==="out"&&i.drawLine.endId!==-1&&(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=i.getElementInArr(e.id);o.out[0]=f();const n=i.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=i.threeInputGateValues(e.id),n=i.getLine(e.inDependence[0]),r=i.getLine(e.inDependence[1]),v=i.getLine(e.inDependence[2]),l=i.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[v.points[0],v.points[1],...o[2]]),l!==void 0&&(l.points=[...o[3],l.points[2],l.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:Li,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:bi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:wi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"in3")),onMouseup:n[5]||(n[5]=l=>h(l,"in3"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:hi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[6]||(n[6]=l=>p(l,"out")),onMouseup:n[7]||(n[7]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:gi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Be="M-45,36.212 A51.212,51.212,45,0,0,-45,-36.212 M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 M-35,36.212 Q10,40,30,0 M-35,-36.212 Q10,-40,30,0",pi="M-50,-20 L-35,-20",ki="M-50,0 L-30,0",yi="M-50,20 L-35,20",mi="M50,0 L40,0 A5,5,0,1,0,30,0 A5,5,0,1,0,40,0",xi="M-35,36.212 A51.212,51.212,45,0,0,-35,-36.212 Q10,-40,30,0 Q10,40,-35,36.212 Z",rt=B({__name:"ThreeXnorNotGate",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=k(!1),i=z(),a=k(!1);function f(){return e.in[0]==-1||e.in[1]==-1||e.in[2]==-1?-1:+(!!e.in[0]&&!e.in[1]&&!e.in[2]||!e.in[0]&&!!e.in[1]&&!e.in[2]||!e.in[0]&&!e.in[1]&&!!e.in[2]||!!e.in[0]&&!!e.in[1]&&!!e.in[2])}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Be,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:Be,hitStrokeWidth:7});function L(o){e.isPreview||(t.value=!0,i.annotation.value=`in1: ${e.in[0]}<br />in2: ${e.in[1]}<br />in3: ${e.in[2]}<br />out: ${f()}`,i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(t.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(o){e.isPreview||(i.annotation.x=o.evt.layerX,i.annotation.y=o.evt.layerY)}function W(o){o.evt.preventDefault(),i.menu.visible=!0,i.menu.x=o.evt.layerX,i.menu.y=o.evt.layerY,i.menu.id=e.id}function M(o){e.isPreview||o.evt.button!==0||(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function p(o,n){if(o.evt.button!==0)return;i.drawLine.is=!0;const r=i.threeInputGateValues(e.id);n==="in1"?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0):n==="in2"?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1):n==="in3"?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2):n==="out"?(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function h(o,n){if(o.evt.button!==0)return;const r=i.threeInputGateValues(e.id);n==="in1"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[0],i.drawLine.endId=e.id,i.drawLine.endNum=0,i.addLine()):n==="in2"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[1],i.drawLine.endId=e.id,i.drawLine.endNum=1,i.addLine()):n==="in3"&&i.drawLine.beginId!==-1?(i.drawLine.end=r[2],i.drawLine.endId=e.id,i.drawLine.endNum=2,i.addLine()):n==="out"&&i.drawLine.endId!==-1&&(i.drawLine.begin=r[3],i.drawLine.beginId=e.id,i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const o=i.getElementInArr(e.id);o.out[0]=f();const n=i.getLine(e.outDependence[0]);n!==void 0&&(n.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const o=i.threeInputGateValues(e.id),n=i.getLine(e.inDependence[0]),r=i.getLine(e.inDependence[1]),v=i.getLine(e.inDependence[2]),l=i.getLine(e.outDependence[0]);n!==void 0&&(n.points=[n.points[0],n.points[1],...o[0]]),r!==void 0&&(r.points=[r.points[0],r.points[1],...o[1]]),v!==void 0&&(v.points=[v.points[0],v.points[1],...o[2]]),l!==void 0&&(l.points=[...o[3],l.points[2],l.points[3]])},{deep:!0}),(o,n)=>{const r=X("v-path"),v=X("v-group");return y(),Y(v,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:W,onClick:M},{default:w(()=>[s(r,{data:xi,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(r,D(G(d.value)),null,16),s(v,{onMousedown:n[0]||(n[0]=l=>p(l,"in1")),onMouseup:n[1]||(n[1]=l=>h(l,"in1"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:pi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:-20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[2]||(n[2]=l=>p(l,"in2")),onMouseup:n[3]||(n[3]=l=>h(l,"in2"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:ki},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[4]||(n[4]=l=>p(l,"in3")),onMouseup:n[5]||(n[5]=l=>h(l,"in3"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:yi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-50,y:20,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1}),s(v,{onMousedown:n[6]||(n[6]=l=>p(l,"out")),onMouseup:n[7]||(n[7]=l=>h(l,"out"))},{default:w(()=>[s(r,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:mi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:50,y:0,ishover:!0,visible:t.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Mi="M-40,0 L-30,0 A5,5,0,1,0,-20,0 A5,5,0,1,0,-30,0",Wi="M40,0 L30,0 M30,0 A5,5,0,1,0,20,0 A5,5,0,1,0,30,0",qe="M-20,-1 L25,-20",Qe="M-20,-1 L25,-5",Ni="M-20,-20 L-20,20 L20,20 L20,-20 L-20,-20",at=B({__name:"SwitchOne",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]==-1||!a.value?-1:e.in[0]}const d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,hitStrokeWidth:7}:{stroke:i.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:i.value?3:2,hitStrokeWidth:7}),L=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:a.value?Qe:qe}:{stroke:i.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:i.value?3:2,data:a.value?Qe:qe}),m=k(!1);function g(v){e.isPreview||(m.value=!0,t.annotation.value=`${a.value?"close":"open"}<br />in: &nbsp${e.in[0]}<br />out: ${f()}`,t.annotation.x=v.evt.layerX,t.annotation.y=v.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function W(){e.isPreview||(m.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function M(v){e.isPreview||(t.annotation.x=v.evt.layerX,t.annotation.y=v.evt.layerY)}function p(){if(e.isPreview)return;a.value=!a.value,t.annotation.value=`${a.value?"close":"open"}<br />in: &nbsp${e.in[0]}<br />out: ${f()}`;const v=t.getElementInArr(e.id),l=t.getLine(e.outDependence[0]);v!==void 0&&(v.out[0]=f()),l!==void 0&&(l.in=f())}function h(v){v.evt.preventDefault(),t.menu.visible=!0,t.menu.x=v.evt.layerX,t.menu.y=v.evt.layerY,t.menu.id=e.id}function o(v){e.isPreview||v.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function n(v,l){if(v.evt.button!==0)return;t.drawLine.is=!0;const x=t.oneInputGateValues(e.id);l==="in"?(t.drawLine.end=x[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):l==="out"?(t.drawLine.begin=x[1],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):t.drawLine.is=!1}function r(v,l){if(v.evt.button!==0)return;const x=t.oneInputGateValues(e.id);l==="in"&&t.drawLine.beginId!==-1?(t.drawLine.endId=e.id,t.drawLine.end=x[0],t.drawLine.endNum=0,t.addLine()):l==="out"&&t.drawLine.endId!==-1&&(t.drawLine.beginId=e.id,t.drawLine.begin=x[1],t.drawLine.beginNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?i.value=!0:i.value=!1)},{deep:!0}),I(()=>e.in,()=>{const v=t.getElementInArr(e.id);v.out[0]=f();const l=t.getLine(e.outDependence[0]);l!==void 0&&(l.in=f())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const v=t.oneInputGateValues(e.id),l=t.getLine(e.inDependence[0]),x=t.getLine(e.outDependence[0]);l!==void 0&&(l.points=[l.points[0],l.points[1],...v[0]]),x!==void 0&&(x.points=[...v[1],x.points[2],x.points[3]])},{deep:!0}),(v,l)=>{const x=X("v-path"),$=X("v-group");return y(),Y($,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:g,onMouseleave:W,onMousemove:M,onContextmenu:h,onDblclick:p,onClick:o},{default:w(()=>[s(x,{data:Ni,fill:"rgba(0, 0, 0, 0)"},null,8,["fill"]),s(x,D(G(L.value)),null,16),s($,{onMousedown:l[0]||(l[0]=C=>n(C,"in")),onMouseup:l[1]||(l[1]=C=>r(C,"in"))},{default:w(()=>[s(x,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Mi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-40,y:0,ishover:!0,visible:m.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s($,{onMousedown:l[2]||(l[2]=C=>n(C,"out")),onMouseup:l[3]||(l[3]=C=>r(C,"out"))},{default:w(()=>[s(x,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Wi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:40,y:0,ishover:!0,visible:m.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ii="M-40,0 L-30,0 A5,5,0,1,0,-20,0 A5,5,0,1,0,-30,0",Ai="M40,-20 L30,-20 A5,5,0,1,0,20,-20 A5,5,0,1,0,30,-20",Pi="M40,0 L30,0 A5,5,0,1,0,20,0 A5,5,0,1,0,30,0",ke="M-20,-1 L25,-15",ye="M-20,-1 L25,-5",Xi="M-20,-20 L-20,20 L20,20 L20,-20 L-20,-20",lt=B({__name:"SwitchTwo",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(!1);function f(){return e.in[0]==-1||i.value?-1:e.in[0]}function d(){return e.in[0]==-1||!i.value?-1:e.in[0]}const L=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,hitStrokeWidth:7}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,hitStrokeWidth:7}),m=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:i.value?ye:ke}:{stroke:a.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:a.value?3:2,data:i.value?ye:ke}),g=k(!1);function W(l){e.isPreview||(g.value=!0,t.annotation.value=`in: &nbsp&nbsp${e.in[0]}<br />out1: ${f()}<br />out2: ${d()}`,t.annotation.x=l.evt.layerX,t.annotation.y=l.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function M(){e.isPreview||(g.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function p(l){e.isPreview||(t.annotation.x=l.evt.layerX,t.annotation.y=l.evt.layerY)}function h(){if(e.isPreview)return;i.value=!i.value,t.annotation.value=`in: &nbsp&nbsp${e.in[0]}<br />out1: ${f()}<br />out2: ${d()}`;const l=t.getElementInArr(e.id);l!==void 0&&(l.out[0]=f(),l.out[1]=d());const x=t.getLine(e.outDependence[0]);x!==void 0&&(x.in=f());const $=t.getLine(e.outDependence[1]);$!==void 0&&($.in=d())}function o(l){l.evt.preventDefault(),t.menu.visible=!0,t.menu.x=l.evt.layerX,t.menu.y=l.evt.layerY,t.menu.id=e.id}function n(l){e.isPreview||l.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function r(l,x){if(l.evt.button!==0)return;t.drawLine.is=!0;const $=t.towSwitchValues(e.id);x==="in"?(t.drawLine.end=$[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):x==="out1"?(t.drawLine.begin=$[1],t.drawLine.beginId=e.id,t.drawLine.beginNum=0):x==="out2"?(t.drawLine.begin=$[2],t.drawLine.beginId=e.id,t.drawLine.beginNum=1):t.drawLine.is=!1}function v(l,x){if(l.evt.button!==0)return;const $=t.towSwitchValues(e.id);x==="in"&&t.drawLine.beginId!==-1?(t.drawLine.endId=e.id,t.drawLine.end=$[0],t.drawLine.endNum=0,t.addLine()):x==="out1"&&t.drawLine.endId!==-1?(t.drawLine.beginId=e.id,t.drawLine.begin=$[1],t.drawLine.beginNum=0,t.addLine()):x==="out1"&&t.drawLine.endId!==-1&&(t.drawLine.beginId=e.id,t.drawLine.begin=$[2],t.drawLine.beginNum=1,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?a.value=!0:a.value=!1)},{deep:!0}),I(()=>e.in,()=>{const l=t.getElementInArr(e.id);l.out[0]=f(),l.out[1]=d();const x=t.getLine(e.outDependence[0]);x!==void 0&&(x.in=f());const $=t.getLine(e.outDependence[1]);$!==void 0&&($.in=d())},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const l=t.towSwitchValues(e.id),x=t.getLine(e.inDependence[0]),$=t.getLine(e.outDependence[0]),C=t.getLine(e.outDependence[1]);x!==void 0&&(x.points=[x.points[0],x.points[1],...l[0]]),$!==void 0&&($.points=[...l[1],$.points[2],$.points[3]]),C!==void 0&&(C.points=[...l[2],C.points[2],C.points[3]])},{deep:!0}),(l,x)=>{const $=X("v-path"),C=X("v-group");return y(),Y(C,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:W,onMouseleave:M,onMousemove:p,onContextmenu:o,onDblclick:h,onClick:n},{default:w(()=>[s($,{data:Xi,fill:"rgba(0, 0, 0, 0)"},null,8,["fill"]),s($,me(m.value,{data:i.value?ye:ke}),null,16,["data"]),s(C,{onMousedown:x[0]||(x[0]=K=>r(K,"in")),onMouseup:x[1]||(x[1]=K=>v(K,"in"))},{default:w(()=>[s($,{stroke:L.value.stroke,strokeWidth:L.value.strokeWidth,hitStrokeWidth:L.value.hitStrokeWidth,data:Ii},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-40,y:0,ishover:!0,visible:g.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(C,{onMousedown:x[2]||(x[2]=K=>r(K,"out1")),onMouseup:x[3]||(x[3]=K=>v(K,"out1"))},{default:w(()=>[s($,{stroke:L.value.stroke,strokeWidth:L.value.strokeWidth,hitStrokeWidth:L.value.hitStrokeWidth,data:Ai},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:40,y:-20,ishover:!0,visible:g.value&&!b(t).global.drag},null,8,["visible"])]),_:1}),s(C,{onMousedown:x[4]||(x[4]=K=>r(K,"out2")),onMouseup:x[5]||(x[5]=K=>v(K,"out2"))},{default:w(()=>[s($,{stroke:L.value.stroke,strokeWidth:L.value.strokeWidth,hitStrokeWidth:L.value.hitStrokeWidth,data:Pi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:40,y:-0,ishover:!0,visible:g.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Ee="M-25,0 A15,15,0,1,0,5,0 A15,15,0,1,0,-25,0 M30,0 L5,0",$i="M30,0 L5,0",Yi="M-25,0 A15,15,0,1,0,5,0 A15,15,0,1,0,-25,0",st=B({__name:"DigitalValue",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]}},setup(u){const e=u,t=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Ee,hitStrokeWidth:7}:{stroke:L.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:L.value?3:2,data:Ee,hitStrokeWidth:7}),i=S(()=>e.isPreview?"rgba(173, 181, 189, 1)":L.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)"),a=z(),f=k(0),d=k(!1),L=k(!1);function m(r){e.isPreview||(d.value=!0,a.annotation.value=`out: ${f.value}`,a.annotation.x=r.evt.layerX,a.annotation.y=r.evt.layerY,a.annotation.visible=!0,a.global.hover=e.id)}function g(){e.isPreview||(d.value=!1,a.annotation.visible=!1,a.global.hover===e.id&&(a.global.hover=-1))}function W(r){e.isPreview||(a.annotation.x=r.evt.layerX,a.annotation.y=r.evt.layerY)}function M(){if(e.isPreview)return;f.value=+!f.value,a.annotation.value=`out: ${f.value}`;const r=a.getElementInArr(e.id);r!==void 0&&(r.out[0]=f.value);const v=a.getLine(e.outDependence[0]);v!==void 0&&(v.in=f.value)}function p(r){r.evt.preventDefault(),a.menu.visible=!0,a.menu.x=r.evt.layerX,a.menu.y=r.evt.layerY,a.menu.id=e.id}function h(r){e.isPreview||r.evt.button!==0||(a.global.ctrl?a.global.selected.push(e.id):a.global.selected=[e.id])}function o(r,v){if(r.evt.button!==0)return;a.drawLine.is=!0;const l=a.sourceGateValues(e.id);v==="out"?(a.drawLine.begin=l[0],a.drawLine.beginId=e.id,a.drawLine.beginNum=0):a.drawLine.is=!1}function n(r,v){if(r.evt.button!==0)return;const l=a.sourceGateValues(e.id);v==="out"&&a.drawLine.endId!==-1&&(a.drawLine.begin=l[0],a.drawLine.beginId=e.id,a.drawLine.beginNum=0,a.addLine()),a.drawLine.is=!1,a.drawLine.begin=[],a.drawLine.end=[],a.drawLine.beginId=-1,a.drawLine.endId=-1}return I(()=>a.global.selected,()=>{e.isPreview||(a.global.selected.includes(e.id)?L.value=!0:L.value=!1)},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const r=a.sourceGateValues(e.id),v=a.getLine(e.outDependence[0]);v!==void 0&&(v.points=[...r[0],v.points[2],v.points[3]])},{deep:!0}),(r,v)=>{const l=X("v-path"),x=X("v-text"),$=X("v-group");return y(),Y($,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:m,onMouseleave:g,onMousemove:W,onContextmenu:p,onDblclick:M,onClick:h},{default:w(()=>[s(l,{data:Yi,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(l,D(G(t.value)),null,16),s(x,{x:-18,y:-13,text:`${f.value}`,fontSize:26,fontFamily:"Calibri",fill:i.value},null,8,["text","fill"]),s($,{onMousedown:v[0]||(v[0]=C=>o(C,"out")),onMouseup:v[1]||(v[1]=C=>n(C,"out"))},{default:w(()=>[s(l,{data:$i,stroke:t.value.stroke,strokeWidth:t.value.strokeWidth,hitStrokeWidth:t.value.hitStrokeWidth},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:30,y:0,ishover:!0,visible:d.value&&!b(a).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Te="M-25,0 A15,15,0,1,0,5,0 A15,15,0,1,0,-25,0 M-20.5,8 L-17,8 L-17,-8 L-10,-8 L-10,8 L-3,8 L-3,-8 L0.5,-8",Vi="M30,0 L5,0",Di="M-25,0 A15,15,0,1,0,5,0 A15,15,0,1,0,-25,0",ut=B({__name:"DigitalClock",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]}},setup(u){const e=u,t=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Te,hitStrokeWidth:7}:{stroke:d.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:d.value?3:2,data:Te,hitStrokeWidth:7});S(()=>e.isPreview?"rgba(173, 181, 189, 1)":d.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)");const i=z(),a=k(0),f=k(!1),d=k(!1);function L(n){e.isPreview||(f.value=!0,i.annotation.value=`out: ${a.value}`,i.annotation.x=n.evt.layerX,i.annotation.y=n.evt.layerY,i.annotation.visible=!0,i.global.hover=e.id)}function m(){e.isPreview||(f.value=!1,i.annotation.visible=!1,i.global.hover===e.id&&(i.global.hover=-1))}function g(n){e.isPreview||(i.annotation.x=n.evt.layerX,i.annotation.y=n.evt.layerY)}function W(){a.value=+!a.value,i.annotation.value=`out: ${a.value}`;const n=i.getElementInArr(e.id);n!==void 0&&(n.out[0]=a.value);const r=i.getLine(e.outDependence[0]);r!==void 0&&(r.in=a.value)}function M(n){n.evt.preventDefault(),i.menu.visible=!0,i.menu.x=n.evt.layerX,i.menu.y=n.evt.layerY,i.menu.id=e.id}function p(n){e.isPreview||n.evt.button!==0||(i.global.ctrl?i.global.selected.push(e.id):i.global.selected=[e.id])}function h(n,r){if(n.evt.button!==0)return;i.drawLine.is=!0;const v=i.sourceGateValues(e.id);r==="out"?(i.drawLine.begin=v[0],i.drawLine.beginId=e.id,i.drawLine.beginNum=0):i.drawLine.is=!1}function o(n,r){if(n.evt.button!==0)return;const v=i.sourceGateValues(e.id);r==="out"&&i.drawLine.endId!==-1&&(i.drawLine.begin=v[0],i.drawLine.beginId=e.id,i.drawLine.beginNum=0,i.addLine()),i.drawLine.is=!1,i.drawLine.begin=[],i.drawLine.end=[],i.drawLine.beginId=-1,i.drawLine.endId=-1}return I(()=>i.global.selected,()=>{e.isPreview||(i.global.selected.includes(e.id)?d.value=!0:d.value=!1)},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const n=i.sourceGateValues(e.id),r=i.getLine(e.outDependence[0]);r!==void 0&&(r.points=[...n[0],r.points[2],r.points[3]])},{deep:!0}),xe(()=>{e.isPreview||setInterval(()=>{W()},1e3)}),(n,r)=>{const v=X("v-path"),l=X("v-group");return y(),Y(l,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:L,onMouseleave:m,onMousemove:g,onContextmenu:M,onClick:p},{default:w(()=>[s(v,{data:Di,fill:"rgba(255, 255, 255, 1)"},null,8,["fill"]),s(v,D(G(t.value)),null,16),s(l,{onMousedown:r[0]||(r[0]=x=>h(x,"out")),onMouseup:r[1]||(r[1]=x=>o(x,"out"))},{default:w(()=>[s(v,{data:Vi,stroke:t.value.stroke,strokeWidth:t.value.strokeWidth,hitStrokeWidth:t.value.hitStrokeWidth},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:30,y:0,ishover:!0,visible:f.value&&!b(i).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),Oe="M25,0 A15,15,0,1,0,-5,0 A15,15,0,1,0,25,0",Gi="M-30,0 L-5,0",Si="M25,0 A15,15,0,1,0,-5,0 A15,15,0,1,0,25,0",dt=B({__name:"Blub",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},inDependence:{type:Array,default:[-1,-1,-1]},outDependence:{type:Array,default:[-1,-1,-1]},in:{type:Array,default:[-1,-1,-1]},out:{type:Array,default:[-1,-1,-1]},isPreview:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1},rotate:{type:Number,default:0},scaleX:{type:Number,default:1},scaleY:{type:Number,default:1}},setup(u){const e=u,t=z(),i=k(!1),a=k(0),f=k(!1),d=S(()=>e.isPreview?{stroke:"rgba(173, 181, 189, 1)",strokeWidth:4,data:Oe,hitStrokeWidth:7}:{stroke:f.value?"rgba(255, 37, 0, 1)":"rgba(67, 76, 94, 1)",strokeWidth:f.value?3:2,data:Oe,hitStrokeWidth:7}),L=S(()=>{if(e.in[0]===1){if(a.value===0)return"rgba(255, 212, 59, 1)";if(a.value===1)return"rgba(240, 82, 82, 1)";if(a.value===2)return"rgba(64, 192, 87, 1)"}return"rgba(255, 255, 255, 1)"});function m(r){e.isPreview||(i.value=!0,t.annotation.value=`in: ${e.in[0]}`,t.annotation.x=r.evt.layerX,t.annotation.y=r.evt.layerY,t.annotation.visible=!0,t.global.hover=e.id)}function g(){e.isPreview||(i.value=!1,t.annotation.visible=!1,t.global.hover===e.id&&(t.global.hover=-1))}function W(r){e.isPreview||(t.annotation.x=r.evt.layerX,t.annotation.y=r.evt.layerY)}function M(){a.value=(a.value+1)%3}function p(r){r.evt.preventDefault(),t.menu.visible=!0,t.menu.x=r.evt.layerX,t.menu.y=r.evt.layerY,t.menu.id=e.id}function h(r){e.isPreview||r.evt.button!==0||(t.global.ctrl?t.global.selected.push(e.id):t.global.selected=[e.id])}function o(r,v){if(r.evt.button!==0)return;t.drawLine.is=!0;const l=t.blubValues(e.id);v==="in"?(t.drawLine.end=l[0],t.drawLine.endId=e.id,t.drawLine.endNum=0):t.drawLine.is=!1}function n(r,v){if(r.evt.button!==0)return;const l=t.blubValues(e.id);v==="in"&&t.drawLine.beginId!==-1&&(t.drawLine.endId=e.id,t.drawLine.end=l[0],t.drawLine.endNum=0,t.addLine()),t.drawLine.is=!1,t.drawLine.begin=[],t.drawLine.end=[],t.drawLine.beginId=-1,t.drawLine.endId=-1}return I(()=>t.global.selected,()=>{e.isPreview||(t.global.selected.includes(e.id)?f.value=!0:f.value=!1)},{deep:!0}),I([()=>e.rotate,()=>e.scaleX,()=>e.scaleY,()=>e.x,()=>e.y],()=>{if(e.isPreview)return;const r=t.blubValues(e.id),v=t.getLine(e.inDependence[0]);v!==void 0&&(v.points=[v.points[0],v.points[1],...r[0]])},{deep:!0}),(r,v)=>{const l=X("v-path"),x=X("v-group");return y(),Y(x,{x:u.x,y:u.y,visible:u.visible,index:u.id,rotation:u.rotate,scaleX:u.scaleX,scaleY:u.scaleY,onMouseenter:m,onMouseleave:g,onMousemove:W,onContextmenu:p,onDblclick:M,onClick:h},{default:w(()=>[s(l,{data:Si,fill:L.value},null,8,["fill"]),s(l,D(G(d.value)),null,16),s(x,{onMousedown:v[0]||(v[0]=$=>o($,"in")),onMouseup:v[1]||(v[1]=$=>n($,"in"))},{default:w(()=>[s(l,{stroke:d.value.stroke,strokeWidth:d.value.strokeWidth,hitStrokeWidth:d.value.hitStrokeWidth,data:Gi},null,8,["stroke","strokeWidth","hitStrokeWidth"]),s(P,{x:-30,y:0,ishover:!0,visible:i.value&&!b(t).global.drag},null,8,["visible"])]),_:1})]),_:1},8,["x","y","visible","index","rotation","scaleX","scaleY"])}}}),vt=B({__name:"Line",props:{points:{type:Array,required:!0},in:{type:Number,default:-1},inId:{type:Number,default:-1},outId:{type:Number,default:-1},inDependence:{type:Number,default:-1},outDependence:{type:Number,default:-1},visible:{type:Boolean,default:!0},id:{type:Number,default:-1}},setup(u){const e=u,t=z(),i=k(!1),a=S(()=>{const m=Math.floor((e.points[0]+10)/20)*20,g=Math.floor((e.points[1]+10)/20)*20,W=Math.floor((e.points[2]+10)/20)*20,M=Math.floor((e.points[3]+10)/20)*20;if(m===W||g===M)return[[m,g],[W,M]];{const p=Math.abs(m-W),h=Math.abs(g-M);return p>h?[[m,g],[m,M],[W,M]]:[[m,g],[W,g],[W,M]]}});function f(m){t.drawLine.is||(i.value=!0,t.annotation.value=`value: ${e.in}`,t.annotation.x=m.evt.layerX,t.annotation.y=m.evt.layerY,t.annotation.visible=!0)}function d(){i.value=!1,t.annotation.visible=!1}function L(m){t.annotation.x=m.evt.layerX,t.annotation.y=m.evt.layerY}return I(()=>e.in,()=>{const m=t.getElementInArr(e.inId);m!==void 0&&(m.in[e.inDependence]=e.in)},{deep:!0}),(m,g)=>{const W=X("v-line"),M=X("v-group");return y(),Y(M,{visible:u.visible,onMouseenter:f,onMouseleave:d,onMousemove:L},{default:w(()=>[s(W,{points:a.value.flat(),stroke:"rgba(67, 76, 94, 1)",strokeWidth:2,hitStrokeWidth:5},null,8,["points","stroke"]),(y(!0),T(F,null,H(a.value,p=>(y(),Y(P,{x:p[0],y:p[1],ishover:!0,visible:i.value},null,8,["x","y","visible"]))),256))]),_:1},8,["visible"])}}}),Ci=B({__name:"DrawAllElement",setup(u){const e=z();return(t,i)=>(y(),T(F,null,[(y(!0),T(F,null,H(b(e).bufGateArray,a=>(y(),Y(Fe,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).notGateArray,a=>(y(),Y(Ze,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).andGateArray,a=>(y(),Y(He,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).andNotGateArray,a=>(y(),Y(Ke,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).orGateArray,a=>(y(),Y(je,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).orNotGateArray,a=>(y(),Y(Je,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).xnorGateArray,a=>(y(),Y(Ue,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).xnorNotGateArray,a=>(y(),Y(_e,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).threeAndGateArray,a=>(y(),Y(et,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).threeAndNotGateArray,a=>(y(),Y(tt,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).threeOrGateArray,a=>(y(),Y(it,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).threeOrNotGateArray,a=>(y(),Y(nt,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).threeXnorGateArray,a=>(y(),Y(ot,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).threeXnorNotGateArray,a=>(y(),Y(rt,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).digitValueArray,a=>(y(),Y(st,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).digitClockArray,a=>(y(),Y(ut,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).switchOneArray,a=>(y(),Y(at,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).switchTwoArray,a=>(y(),Y(lt,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).blubArray,a=>(y(),Y(dt,D(G(a)),null,16))),256)),(y(!0),T(F,null,H(b(e).lineArray,a=>(y(),Y(vt,D(G(a)),null,16))),256))],64))}}),Bi=["innerHTML"],qi=B({__name:"Annotation",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(u){const e=u,t=z(),i=S(()=>t.annotation.x>e.width/2?"auto":`${t.annotation.x+10}px`),a=S(()=>t.annotation.x>e.width/2?`${e.width-t.annotation.x+10}px`:"auto"),f=S(()=>t.annotation.y>e.height/2?"auto":`${t.annotation.y+10}px`),d=S(()=>t.annotation.y>e.height/2?`${e.height-t.annotation.y+10}px`:"auto");return(L,m)=>b(t).annotation.visible&&!b(t).global.drag?(y(),T("div",{key:0,class:"absolute w-auto h-auto state-div p-2 border-round-lg shadow-3",style:ze({"background-color":"rgba(73, 80, 87, 1)",left:i.value,right:a.value,top:f.value,bottom:d.value}),innerHTML:b(t).annotation.value},null,12,Bi)):Re("",!0)}}),Qi=Me(qi,[["__scopeId","data-v-5a3e7d74"]]),Ei=B({__name:"RightMenu",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(u){const e=u,t=z(),i=S(()=>t.menu.x>e.width/2?"auto":`${t.menu.x+10}px`),a=S(()=>t.menu.x>e.width/2?`${e.width-t.menu.x+10}px`:"auto"),f=S(()=>t.menu.y>e.height/2?"auto":`${t.menu.y+10}px`),d=S(()=>t.menu.y>e.height/2?`${e.height-t.menu.y+10}px`:"auto");function L(g){const W=t.getArrayById(t.menu.id);if(W!==void 0){for(let M=0;M!==W.length;++M)if(W[M].id===t.menu.id){g(W[M]);break}}t.menu.visible=!1}const m=k([{label:"向右旋转90度",icon:"pi pi-refresh",command:()=>{L(g=>{g.rotate=(g.rotate+90)%360,g.x/20&&(g.rotate<180?g.x+=10:g.x-=10),g.y/20&&(g.rotate<180?g.y+=10:g.y-=10)})}},{label:"向左旋转90度",icon:"pi pi-undo",command:()=>{L(g=>{g.rotate=(g.rotate+270)%360,g.rotate=(g.rotate+90)%360,g.x/20&&(g.rotate<180?g.x+=10:g.x-=10),g.y/20&&(g.rotate<180?g.y+=10:g.y-=10)})}},{label:"垂直镜像",icon:"pi pi-sort-alt",command:()=>{L(g=>{g.rotate%180===0?g.scaleY=-g.scaleY:g.scaleX=-g.scaleX})}},{label:"水平镜像",icon:"pi pi-arrow-right-arrow-left",command:()=>{L(g=>{g.rotate%180===0?g.scaleX=-g.scaleX:g.scaleY=-g.scaleY})}}]);return(g,W)=>b(t).menu.visible?(y(),T("div",{key:0,class:"absolute w-auto h-auto item-div",style:ze({left:i.value,right:a.value,top:f.value,bottom:d.value})},[s(b(ht),{class:"font-value",model:m.value},null,8,["model"])],4)):Re("",!0)}}),Ti=Me(Ei,[["__scopeId","data-v-e2c18154"]]),Oi=B({__name:"Content",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(u){const e=E({x:0,y:0,width:0,height:0,fill:"rgba(100, 100, 100, 0.2)",visible:!1}),t=E({x:0,y:0,is:!1}),i=E({x:0,y:0,visible:!1}),a=z(),f=k(R.None),d=k(0),L=k(0),m=k(),g=k(),W=k(!1),M=k(!1),p=k(!1),h=k(!1),o=k(!1),n=k(!1),r=k(!1),v=k(!1),l=k(!1),x=k(!1),$=k(!1),C=k(!1),K=k(!1),oe=k(!1),re=k(!1),ae=k(!1),te=k(!1),U=k(!1),se=k(!1);function ue(){W.value&&(W.value=!1),M.value&&(M.value=!1),p.value&&(p.value=!1),h.value&&(h.value=!1),o.value&&(o.value=!1),n.value&&(n.value=!1),r.value&&(r.value=!1),v.value&&(v.value=!1),l.value&&(l.value=!1),x.value&&(x.value=!1),$.value&&($.value=!1),C.value&&(C.value=!1),K.value&&(K.value=!1),oe.value&&(oe.value=!1),re.value&&(re.value=!1),ae.value&&(ae.value=!1),te.value&&(te.value=!1),U.value&&(U.value=!1),se.value&&(se.value=!1)}function ve(){d.value=-100}function fe(q){if(d.value=q.evt.layerX,L.value=q.evt.layerY,e.visible&&(e.width=q.evt.layerX-e.x,e.height=q.evt.layerY-e.y),t.is){const _=q.evt.clientX-t.x,Z=q.evt.clientY-t.y;t.x=q.evt.clientX,t.y=q.evt.clientY,a.moveElement(_,Z)}}function ce(){a.global.hover===-1&&(a.global.selected=[]),a.global.state=R.None,ue(),a.addElement(f.value,d.value,L.value)}I(()=>a.global.state,()=>{switch(ue(),f.value=a.global.state,a.global.state){case R.BufGate:W.value=!0;break;case R.NotGate:M.value=!0;break;case R.AndGate:p.value=!0;break;case R.AndNotGate:h.value=!0;break;case R.OrGate:o.value=!0;break;case R.OrNotGate:n.value=!0;break;case R.XnorGate:r.value=!0;break;case R.XnorNotGate:v.value=!0;break;case R.ThreeAndGate:l.value=!0;break;case R.ThreeAndNotGate:x.value=!0;break;case R.ThreeOrGate:$.value=!0;break;case R.ThreeOrNotGate:C.value=!0;break;case R.ThreeXnorGate:K.value=!0;break;case R.ThreeXnorNotGate:oe.value=!0;break;case R.SwitchOne:re.value=!0;break;case R.SwitchTwo:ae.value=!0;break;case R.DigitalValue:te.value=!0;break;case R.DigitalClock:U.value=!0;break;case R.Blub:se.value=!0;break}});function be(q){a.menu.visible&&(a.menu.visible=!1),a.global.hover===-1?(e.x=q.evt.layerX,e.y=q.evt.layerY,e.visible=!0):(t.is=!0,t.x=q.evt.clientX,t.y=q.evt.clientY,a.global.drag=!0)}function de(q){if(a.global.dragToDraw&&(a.global.state=R.None,ue(),a.addElement(f.value,d.value,L.value)),a.global.hover===-1){const _=g.value.getNode().getClientRect(),Z=[];m.value.getNode().children.forEach(function(ie){ie.attrs.x<=_.x+_.width&&ie.attrs.x>=_.x&&ie.attrs.y<=_.y+_.height&&ie.attrs.y>=_.y&&Z.push(ie.attrs.index)}),a.global.selected=Z,e.x=0,e.y=0,e.width=0,e.height=0,e.visible=!1}if(t.is){const _=q.evt.clientX-t.x,Z=q.evt.clientY-t.y;a.moveElement(_,Z,!0),t.is=!1,t.x=0,t.y=0,a.global.drag=!1}i.visible&&(i.visible=!1)}function we(q){q.key==="Control"?a.global.ctrl=!0:(q.key==="Backspace"||q.key==="Delete")&&a.deleteElement()}function he(q){q.key==="Control"&&(a.global.ctrl=!1)}return I(()=>a.drawLine,()=>{a.drawLine.is&&(i.visible=!0,a.drawLine.beginId!==-1?(i.x=a.drawLine.begin[0],i.y=a.drawLine.begin[1]):a.drawLine.endId!==-1&&(i.x=a.drawLine.end[0],i.y=a.drawLine.end[1]))},{deep:!0}),xe(()=>{const q=Math.floor(window.screen.width/20),_=Math.floor(window.screen.height/20);a.boolArray=Array(_).fill(Array(q).fill(-1))}),(q,_)=>{const Z=X("v-layer"),ie=X("v-rect"),ge=X("v-stage");return y(),T("div",{tabindex:"1",class:"h-full w-full relative",onKeydown:we,onKeyup:he},[s(Qi,{width:u.width,height:u.height},null,8,["width","height"]),s(Ti,{width:u.width,height:u.height},null,8,["width","height"]),s(ge,{width:u.width,height:u.height,onMousedown:be,onMouseup:de,onMousemove:fe,onMouseleave:ve,onClick:ce},{default:w(()=>[s(Z,null,{default:w(()=>[s(gt,{width:u.width,height:u.height},null,8,["width","height"])]),_:1}),s(Z,null,{default:w(()=>[s(Fe,{x:d.value,y:L.value,visible:W.value,isPreview:!0},null,8,["x","y","visible"]),s(Ze,{x:d.value,y:L.value,visible:M.value,isPreview:!0},null,8,["x","y","visible"]),s(He,{x:d.value,y:L.value,visible:p.value,isPreview:!0},null,8,["x","y","visible"]),s(Ke,{x:d.value,y:L.value,visible:h.value,isPreview:!0},null,8,["x","y","visible"]),s(je,{x:d.value,y:L.value,visible:o.value,isPreview:!0},null,8,["x","y","visible"]),s(Je,{x:d.value,y:L.value,visible:n.value,isPreview:!0},null,8,["x","y","visible"]),s(Ue,{x:d.value,y:L.value,visible:r.value,isPreview:!0},null,8,["x","y","visible"]),s(_e,{x:d.value,y:L.value,visible:v.value,isPreview:!0},null,8,["x","y","visible"]),s(et,{x:d.value,y:L.value,visible:l.value,isPreview:!0},null,8,["x","y","visible"]),s(tt,{x:d.value,y:L.value,visible:x.value,isPreview:!0},null,8,["x","y","visible"]),s(it,{x:d.value,y:L.value,visible:$.value,isPreview:!0},null,8,["x","y","visible"]),s(nt,{x:d.value,y:L.value,visible:C.value,isPreview:!0},null,8,["x","y","visible"]),s(ot,{x:d.value,y:L.value,visible:K.value,isPreview:!0},null,8,["x","y","visible"]),s(rt,{x:d.value,y:L.value,visible:oe.value,isPreview:!0},null,8,["x","y","visible"]),s(at,{x:d.value,y:L.value,visible:re.value,isPreview:!0},null,8,["x","y","visible"]),s(lt,{x:d.value,y:L.value,visible:ae.value,isPreview:!0},null,8,["x","y","visible"]),s(st,{x:d.value,y:L.value,visible:te.value,isPreview:!0},null,8,["x","y","visible"]),s(ut,{x:d.value,y:L.value,visible:U.value,isPreview:!0},null,8,["x","y","visible"]),s(dt,{x:d.value,y:L.value,visible:se.value,isPreview:!0},null,8,["x","y","visible"]),s(vt,{points:[i.x,i.y,d.value,L.value],visible:i.visible},null,8,["points","visible"])]),_:1}),s(Z,{ref_key:"layer",ref:m},{default:w(()=>[s(Ci)]),_:1},512),s(Z,null,{default:w(()=>[s(ie,me({ref_key:"selected",ref:g},{...e}),null,16)]),_:1})]),_:1},8,["width","height"])],32)}}}),zi=B({__name:"Content",setup(u){let e=k(0),t=k(0);function i(f){for(const d of f)t.value=d.contentRect.width,e.value=d.contentRect.height}const a=k();return xe(()=>{new ResizeObserver(i).observe(a.value)}),(f,d)=>(y(),T("div",{class:"h-full w-full",ref_key:"contentContainer",ref:a},[s(Oi,{width:b(t),height:b(e)-6},null,8,["width","height"])],512))}}),Ri=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("line",{x1:"20",y1:"20",x2:"35",y2:"35",stroke:"black","stroke-width":"4"}),N("path",{d:"M10,10 L20,20 L30,20 z",fill:"black","stroke-width":"0"}),N("path",{d:"M10,10 L20,20 L20,30 z",fill:"black","stroke-width":"0"})],-1),Fi=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("circle",{cx:"30",cy:"22.5",r:"10",stroke:"black","stroke-width":"2"}),N("line",{x1:"5",y1:"22.5",x2:"20",y2:"22.5",stroke:"black","stroke-width":"2"})],-1),Zi=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("text",{x:"11",y:"27.5",style:{"font-family":"Times New Roman","font-size":"12",stroke:"#000000",fill:"#000000"}},"0"),N("circle",{cx:"15",cy:"22.5",r:"10",stroke:"black","stroke-width":"2"}),N("line",{x1:"25",y1:"22.5",x2:"40",y2:"22.5",stroke:"black","stroke-width":"2"})],-1),Hi=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M9,27 L11,27 L11,18 L15,18 L15,27 L19,27 L19,18 L21,18",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"15",cy:"22.5",r:"10",stroke:"black","stroke-width":"2"}),N("line",{x1:"25",y1:"22.5",x2:"40",y2:"22.5",stroke:"black","stroke-width":"2"})],-1),Ki=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M5,22.5 L15,22.5 M40,22.5 L30,22.5 M15,35 L15,10 L30,22.5 L15,35",fill:"none",stroke:"black","stroke-width":"2"})],-1),ji=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M5,22.5 L15,22.5 M42,22.5 L35,22.5 M15,35 L15,10 L30,22.5 L15,35",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"32.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),Ji=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M2.5,30 L10,30 M2.5,15 L10,15 M32.5,22.5 L42.5,22.5 M20.5,34.5 A12,12,90,1,0,20.5,10.5 L10,10.5 L10,34.5 L20.5,34.5",fill:"none",stroke:"black","stroke-width":"2"})],-1),Ui=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M2.5,30 L10,30 M2.5,15 L10,15 M37.5,22.5 L42.5,22.5 M20.5,34.5 A12,12,90,1,0,20.5,10.5 L10,10.5 L10,34.5 L20.5,34.5",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"35",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),_i=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M2.5,30 L10,30 M2.5,22.5 L10,22.5 M2.5,15 L10,15 M32.5,22.5 L42.5,22.5 M20.5,34.5 A12,12,90,1,0,20.5,10.5 L10,10.5 L10,34.5 L20.5,34.5",fill:"none",stroke:"black","stroke-width":"2"})],-1),en=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M2.5,30 L10,30 M2.5,22.5 L10,22.5 M2.5,15 L10,15 M37.5,22.5 L42.5,22.5 M20.5,34.5 A12,12,90,1,0,20.5,10.5 L10,10.5 L10,34.5 L20.5,34.5",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"35",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),tn=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0125 M2.5,28 L10.5,28 M2.5,17 L10.5,17 M34.5,22.5 L42.5,22.5 M4.5,36.9848 Q26.5,38.5,34.5,22.5 M4.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"})],-1),nn=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0125 M2.5,28 L10.5,28 M2.5,17 L10.5,17 M39.5,22.5 L44,22.5 M4.5,36.9848 Q26.5,38.5,34.5,22.5 M4.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"37.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),on=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0125 M2.5,30 L10,30 M2.5,22.5 L10.5,22.5 M2.5,15 L10,15 M34.5,22.5 L42.5,22.5 M4.5,36.9848 Q26.5,38.5,34.5,22.5 M4.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"})],-1),rn=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0125 M2.5,30 L10,30 M2.5,22.5 L10.5,22.5 M2.5,15 L10,15 M39.5,22.5 L44,22.5 M4.5,36.9848 Q26.5,38.5,34.5,22.5 M4.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"37.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),an=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0152 M8.5,36.9848 A20.4848,20.4848,45,0,0,8.5,8.0152 M2.5,28 L9,28 M2.5,17 L9,17 M34.5,22.5 L42.5,22.5 M8.5,36.9848 Q26.5,38.5,34.5,22.5 M8.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"})],-1),ln=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0152 M8.5,36.9848 A20.4848,20.4848,45,0,0,8.5,8.0152 M2.5,28 L9,28 M2.5,17 L9,17 M39.5,22.5 L44.5,22.5 M8.5,36.9848 Q26.5,38.5,34.5,22.5 M8.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"37.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),sn=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0152 M8.5,36.9848 A20.4848,20.4848,45,0,0,8.5,8.0152 M2.5,30 L9,30 M2.5,22.5 L10,22.5 M2.5,15 L9,15 M34.5,22.5 L42.5,22.5 M8.5,36.9848 Q26.5,38.5,34.5,22.5 M8.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"})],-1),un=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M4.5,36.9848 A20.4848,20.4848,45,0,0,4.5,8.0152 M8.5,36.9848 A20.4848,20.4848,45,0,0,8.5,8.0152 M2.5,30 L9,30 M2.5,22.5 L9,22.5 M2.5,15 L9,15 M39.5,22.5 L44.5,22.5 M8.5,36.9848 Q26.5,38.5,34.5,22.5 M8.5,8.0152 Q26.5,6.5,34.5,22.5",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"37.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),dn=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M2.5,22.5 L10,22.5 M42.5,22.5 L35,22.5 M15,22 L32,10",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"12.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"}),N("circle",{cx:"32.5",cy:"22.5",r:"2.5",stroke:"black","stroke-width":"2"})],-1),vn=N("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M2.5,28 L10,28 M42.5,28 L35,28 M15,27.5 L32,15.5 M42.5,13 L35,13",fill:"none",stroke:"black","stroke-width":"2"}),N("circle",{cx:"12.5",cy:"28",r:"2.5",stroke:"black","stroke-width":"2"}),N("circle",{cx:"32.5",cy:"28",r:"2.5",stroke:"black","stroke-width":"2"}),N("circle",{cx:"32.5",cy:"13",r:"2.5",stroke:"black","stroke-width":"2"})],-1),fn=B({__name:"LeftSideBar",setup(u){const e=z();function t(a){e.global.state=a,e.global.dragToDraw=!0}function i(){e.global.dragToDraw=!1}return(a,f)=>(y(),T("div",{class:"w-full h-full border-200 overflow-y-scroll",onMouseup:i},[N("div",{class:"m-3 flex flex-wrap gap-3",onMouseup:i},[s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===0}]),onMousedown:f[0]||(f[0]=d=>t(0))},{default:w(()=>[Ri]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===19}]),onMousedown:f[1]||(f[1]=d=>t(19))},{default:w(()=>[Fi]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===17}]),onMousedown:f[2]||(f[2]=d=>t(17))},{default:w(()=>[Zi]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===18}]),onMousedown:f[3]||(f[3]=d=>t(18))},{default:w(()=>[Hi]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===1}]),onMousedown:f[4]||(f[4]=d=>t(1))},{default:w(()=>[Ki]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===2}]),onMousedown:f[5]||(f[5]=d=>t(2))},{default:w(()=>[ji]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===3}]),onMousedown:f[6]||(f[6]=d=>t(3))},{default:w(()=>[Ji]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===4}]),onMousedown:f[7]||(f[7]=d=>t(4))},{default:w(()=>[Ui]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===9}]),onMousedown:f[8]||(f[8]=d=>t(9))},{default:w(()=>[_i]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===10}]),onMousedown:f[9]||(f[9]=d=>t(10))},{default:w(()=>[en]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===5}]),onMousedown:f[10]||(f[10]=d=>t(5))},{default:w(()=>[tn]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===6}]),onMousedown:f[11]||(f[11]=d=>t(6))},{default:w(()=>[nn]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===11}]),onMousedown:f[12]||(f[12]=d=>t(11))},{default:w(()=>[on]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===12}]),onMousedown:f[13]||(f[13]=d=>t(12))},{default:w(()=>[rn]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===7}]),onMousedown:f[14]||(f[14]=d=>t(7))},{default:w(()=>[an]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===8}]),onMousedown:f[15]||(f[15]=d=>t(8))},{default:w(()=>[ln]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===13}]),onMousedown:f[16]||(f[16]=d=>t(13))},{default:w(()=>[sn]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===14}]),onMousedown:f[17]||(f[17]=d=>t(14))},{default:w(()=>[un]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===15}]),onMousedown:f[18]||(f[18]=d=>t(15))},{default:w(()=>[dn]),_:1},8,["class"]),s(b(J),{outlined:"",class:j(["p-0",{"bg-cyan-100":b(e).global.state===16}]),onMousedown:f[19]||(f[19]=d=>t(16))},{default:w(()=>[vn]),_:1},8,["class"])],32)],32))}}),cn={class:"h-full w-full flex"},bn=B({__name:"DigitCircuit",setup(u){return(e,t)=>(y(),T("div",cn,[s(fn,{class:"w-10rem left-min h-full border-right-1 border-400"}),s(zi,{class:"flex-1"})]))}}),hn=Me(bn,[["__scopeId","data-v-77c1b90a"]]);export{hn as default};
